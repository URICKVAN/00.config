# ======================================================================
# Homebrew (Apple Silicon) bin paths
# ======================================================================
export PATH="/opt/homebrew/bin:/opt/homebrew/bin:$PATH"

# ======================================================================
# DIRECTORIO DE SESIONES ZSH
# ======================================================================
# Zsh intenta guardar sesiones por defecto en //.zsh_sessions, que no es válido.
# Redirigimos el caché al HOME para evitar errores:
export ZSH_CACHE_DIR="$HOME/.zsh_sessions"
mkdir -p "$ZSH_CACHE_DIR"

# ======================================================================
# Powerlevel10k instant prompt
# ======================================================================
if [[ -r "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh" ]]; then
  source "${XDG_CACHE_HOME:-$HOME/.cache}/p10k-instant-prompt-${(%):-%n}.zsh"
fi

# ======================================================================
# ARCHIVO CENTRALIZADO DE CONFIGURACIÓN ZSH
# UBICACIÓN: /Users/iurickvan/Documents/00.config/01.zsh/zshrc
#
# Este archivo define mi configuración personalizada de Zsh usando Oh My Zsh.
# Está pensado para ser usado mediante un enlace simbólico desde ~/.zshrc
# en cada equipo donde instale oh-my-zsh.
# ======================================================================

# Ruta donde está instalado oh-my-zsh (por defecto):
export ZSH="$HOME/.oh-my-zsh"

# Tema a utilizar (puedes cambiarlo por ejemplo a "agnoster" o "powerlevel10k/powerlevel10k")
ZSH_THEME="powerlevel10k/powerlevel10k"

# Lista de plugins de oh-my-zsh a cargar
plugins=(
  git
  z
  colored-man-pages
  sudo
  extract
)

# Cargar oh-my-zsh
source $ZSH/oh-my-zsh.sh

# ======================================================================
# OPCIONES ÚTILES DE ZSH
# ======================================================================

# Habilitar corrección automática de comandos
ENABLE_CORRECTION="true"

# Mostrar tiempo de ejecución si un comando tarda más de 10 segundos
REPORTTIME=10

# Habilitar autocompletado de directorios con TAB
setopt AUTO_CD

# Compartir el historial entre todas las sesiones
setopt SHARE_HISTORY

# Guardar el historial con timestamps
HIST_STAMPS="yyyy-mm-dd"
# ======================================================================
# CONFIGURACIÓN DE HISTORIAL ZSH
# ======================================================================

# Archivo donde se guardará el historial
HISTFILE=$HOME/.zsh_history

# Número máximo de comandos que se guardarán en memoria
HISTSIZE=10000

# Número máximo de comandos que se guardarán en el archivo
SAVEHIST=10000

# Opciones recomendadas para un historial consistente y compartido
setopt INC_APPEND_HISTORY     # Guarda cada comando al historial al ejecutarlo
setopt SHARE_HISTORY          # Comparte historial entre sesiones
setopt HIST_IGNORE_ALL_DUPS   # No guardar duplicados
setopt HIST_IGNORE_SPACE      # No guardar comandos que empiezan con espacio
setopt HIST_VERIFY            # Permite editar una línea recuperada antes de ejecutarla
setopt HIST_IGNORE_DUPS       # Ignora duplicados consecutivos
setopt HIST_REDUCE_BLANKS     # Elimina espacios repetidos en los comandos

# ======================================================================
# ALIAS Y CONFIGURACIONES PERSONALIZADAS
# ======================================================================

# Cargar alias centralizados si el archivo existe
if [ -f "/Users/iurickvan/Documents/00.config/01.zsh/aliases.zsh" ]; then
    source "/Users/iurickvan/Documents/00.config/01.zsh/aliases.zsh"
fi
# Ejemplo de alias local (puedes poner aquí también directamente):
# alias gs='git status'

# ======================================================================
# EXPORTS Y OTRAS VARIABLES
# ======================================================================

# Añadir rutas personalizadas al PATH si es necesario
export PATH="$HOME/bin:$PATH"

# ======================================================================
# FIN DEL ARCHIVO
# ======================================================================

# To customize prompt, run `p10k configure` or edit ~/.p10k.zsh.
[[ ! -f ~/.p10k.zsh ]] || source ~/.p10k.zsh
